[00:00:00.774,078] <dbg> app_controller: app_controller_thread: SM_BONDED_DEVICES: Managing bonded device(s)
[00:00:00.774,108] <inf> ble_manager: Establishing trusted bond with device [DEVICE ID 0]
[00:00:00.774,169] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from DISCONNECTED to TRUSTING
[00:00:00.774,169] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:00.774,200] <dbg> devices_manager: devices_manager_get_device_context_by_conn: No device with matching connection found
[00:00:00.774,200] <err> ble_manager: Cannot disconnect - device context not found
[00:00:00.774,200] <wrn> ble_manager: Failed to disconnect for bonding (err -22) [DEVICE ID 0]
[00:00:00.774,230] <dbg> ble_manager: ble_manager_establish_trusted_bond: Scheduling connection to establish bond [DEVICE ID 0]
[00:00:00.774,322] <dbg> ble_manager: ble_manager_connect_to_bonded_device: Found entry in bonded devices to connect to, addr=CC:89:6C:EE:41:04 (public) [DEVICE ID 0]
[00:00:00.774,444] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from DISCONNECTED to BONDED
[00:00:00.774,536] <dbg> ble_manager: ble_manager_connect_to_bonded_device: Set device context to connect to, addr=CC:89:6C:EE:41:04 (public) [DEVICE ID 0]
[00:00:00.774,597] <inf> ble_manager: [DEVICE ID 0] BLE command thread started
[00:00:00.774,627] <inf> ble_manager: [DEVICE ID 1] BLE command thread started
[00:00:01.024,719] <dbg> ble_manager: connect_work_handler: Connect work executing for CC:89:6C:EE:41:04 (public) [DEVICE ID 0]
[00:00:01.024,810] <dbg> ble_manager: ble_manager_connect: Connecting to CC:89:6C:EE:41:04 (public)
[00:00:01.083,190] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:01.083,190] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:01.083,282] <inf> ble_manager: Connected to bonded (or bonding) device CC:89:6C:EE:41:04 (public) [DEVICE ID 0]
[00:00:01.083,435] <dbg> ble_manager: ble_cmd_enqueue: High priority BLE command enqueued, type: BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
[00:00:01.084,014] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
[00:00:01.084,075] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
[00:00:01.084,106] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
[00:00:01.084,136] <dbg> ble_manager: security_request_handler: Requesting security [DEVICE ID 0]
[00:00:01.084,259] <dbg> ble_manager: security_request_handler: Security request initiated [DEVICE ID 0]
[00:00:01.933,563] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:01.933,593] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:01.933,654] <dbg> ble_manager: security_changed_cb: Security changed: CC:89:6C:EE:41:04 (public) level 2 [DEVICE ID 0]
[00:00:01.933,654] <dbg> ble_manager: security_changed_cb: Encryption established at level 2 [DEVICE ID 0]
[00:00:01.933,685] <dbg> ble_manager: security_changed_cb: Bonded device - encryption established [DEVICE ID 0]
[00:00:01.933,746] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from BONDED to READY
[00:00:01.933,746] <dbg> app_controller: app_controller_notify_device_ready: Notifying device ready: device_id=0
[00:00:01.933,868] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
[00:00:01.933,868] <dbg> ble_manager: ble_process_next_command: No BLE commands in queue [DEVICE ID 0]
[00:00:01.934,051] <wrn> bt_l2cap: Ignoring data for unknown channel ID 0x002a
[00:00:01.934,112] <inf> app_controller: [DEVICE ID 0] ready after trusted bond, discovering services
[00:00:01.934,234] <dbg> ble_manager: ble_cmd_enqueue: BLE command enqueued, type: BLE_CMD_BAS_DISCOVER [DEVICE ID 0]
[00:00:01.934,295] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_BAS_DISCOVER [DEVICE ID 0]
[00:00:01.934,326] <dbg> battery_reader: battery_discover: Starting Battery Service discovery [DEVICE ID 0]
[00:00:01.934,570] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=BLE_CMD_BAS_DISCOVER [DEVICE ID 0]
[00:00:01.934,600] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=BLE_CMD_BAS_DISCOVER [DEVICE ID 0]
[00:00:02.033,660] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:02.033,691] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:02.033,691] <dbg> battery_reader: discover_service_cb: Found Battery Service at handle 0x011E-0x0121 [DEVICE ID 0]
[00:00:02.033,721] <dbg> battery_reader: discover_service_cb: Discover characteristics within Battery Service [DEVICE ID 0]
[00:00:02.183,685] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:02.183,715] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:02.183,746] <dbg> battery_reader: discover_char_cb: [ATTRIBUTE] handle 0x011F [DEVICE ID 0]
[00:00:02.183,746] <dbg> battery_reader: discover_char_cb: Found Battery Level characteristic at handle 0x0120 (properties 0x12) [DEVICE ID 0]
[00:00:02.283,691] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:02.283,691] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:02.283,721] <dbg> battery_reader: discover_char_cb: Discovery complete for type 3 [DEVICE ID 0]
[00:00:02.283,721] <dbg> battery_reader: discover_char_cb: Battery Service discovery complete (handle: 0x0120, CCC: 0x0000) [DEVICE ID 0]
[00:00:02.283,721] <inf> app_controller: Notifying BAS discovered: device_id=0
[00:00:02.283,782] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_BAS_DISCOVER [DEVICE ID 0]
[00:00:02.283,813] <dbg> ble_manager: ble_process_next_command: No BLE commands in queue [DEVICE ID 0]
[00:00:02.283,905] <inf> app_controller: BAS discovered for device 0, reading level
[00:00:02.284,179] <dbg> ble_manager: ble_cmd_enqueue: BLE command enqueued, type: BLE_CMD_BAS_READ_LEVEL [DEVICE ID 0]
[00:00:02.284,210] <dbg> ble_manager: ble_cmd_enqueue: BLE command enqueued, type: BLE_CMD_VCP_DISCOVER [DEVICE ID 0]
[00:00:02.284,301] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_BAS_READ_LEVEL [DEVICE ID 0]
[00:00:02.284,301] <dbg> battery_reader: battery_read_level: Reading battery level from handle 0x0120 [DEVICE ID 0]
[00:00:02.284,545] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=BLE_CMD_BAS_READ_LEVEL [DEVICE ID 0]
[00:00:02.284,606] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=BLE_CMD_BAS_READ_LEVEL [DEVICE ID 0]
[00:00:02.433,563] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:02.433,563] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:02.433,593] <inf> battery_reader: Battery level read: 90% [DEVICE ID 0]
[00:00:02.433,624] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_BAS_READ_LEVEL [DEVICE ID 0]
[00:00:02.433,685] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_VCP_DISCOVER [DEVICE ID 0]
[00:00:02.433,685] <dbg> vcp_controller: vcp_controller_reset: VCP controller state reset [DEVICE ID 0]
[00:00:02.433,776] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=BLE_CMD_VCP_DISCOVER [DEVICE ID 0]
[00:00:02.433,837] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=BLE_CMD_VCP_DISCOVER [DEVICE ID 0]
[00:00:02.983,612] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:02.983,642] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:02.983,642] <inf> vcp_controller: VCP discovery complete [DEVICE ID 0]
[00:00:02.983,673] <inf> app_controller: Notifying VCP discovered: device_id=0
[00:00:02.983,703] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_VCP_DISCOVER [DEVICE ID 0]
[00:00:02.983,734] <dbg> ble_manager: ble_process_next_command: No BLE commands in queue [DEVICE ID 0]
[00:00:02.983,886] <inf> app_controller: VCP discovered for device 0
[00:00:02.983,978] <dbg> has_controller: has_controller_reset: HAS controller state reset [DEVICE ID 0]
[00:00:02.984,008] <dbg> ble_manager: ble_cmd_enqueue: BLE command enqueued, type: BLE_CMD_HAS_DISCOVER [DEVICE ID 0]
[00:00:02.984,100] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_HAS_DISCOVER [DEVICE ID 0]
[00:00:02.984,252] <dbg> has_settings: has_settings_load_handles: Loading HAS handles for CC:89:6C:EE:41:04 (public) at harc/device/CC:89:6C:EE:41:04 (public)
[00:00:02.985,168] <inf> has_settings: Loaded HAS handles for CC:89:6C:EE:41:04 (public)
[00:00:02.985,168] <inf> has_settings:   features: 253 (ccc: 254)
[00:00:02.985,168] <inf> has_settings:   control_point: 250 (ccc: 251)
[00:00:02.985,168] <inf> has_settings:   active_index: 256 (ccc: 257)
[00:00:02.985,198] <inf> has_controller: Found cached HAS handles, attempting to restore
[00:00:02.985,198] <dbg> has_controller: has_cmd_discover: Starting HAS discovery
[00:00:02.985,229] <inf> bt_has_client: Handles already set - skipping discovery
[00:00:02.985,229] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:02.985,260] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:02.985,260] <inf> has_controller: HAS discovery complete
[00:00:02.985,260] <inf> has_controller: Hearing aid type: 0
[00:00:02.985,290] <inf> has_controller: Hearing aid capabilities: 0x01
[00:00:02.985,504] <inf> has_settings: Stored HAS handles for CC:89:6C:EE:41:04 (public) at harc/device/CC:89:6C:EE:41:04 (public)/has_handles
[00:00:02.985,504] <inf> has_settings:   features: 253 (ccc: 254)
[00:00:02.985,504] <inf> has_settings:   control_point: 250 (ccc: 251)
[00:00:02.985,504] <inf> has_settings:   active_index: 256 (ccc: 257)
[00:00:02.985,534] <inf> has_controller: HAS handles cached to NVS
[00:00:02.985,534] <dbg> app_controller: app_controller_notify_has_discovered: Notifying HAS discovered: device_id=0
[00:00:02.985,595] <inf> app_controller: HAS discovered for device 0
[00:00:02.985,595] <inf> ble_manager: Establishing trusted bond with device [DEVICE ID 1]
[00:00:02.985,656] <dbg> devices_manager: devices_manager_set_device_state: Device ID 1 state changed from DISCONNECTED to TRUSTING
[00:00:02.985,687] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:02.985,687] <dbg> devices_manager: devices_manager_get_device_context_by_conn: No device with matching connection found
[00:00:02.985,687] <err> ble_manager: Cannot disconnect - device context not found
[00:00:02.985,717] <wrn> ble_manager: Failed to disconnect for bonding (err -22) [DEVICE ID 1]
[00:00:02.985,717] <dbg> ble_manager: ble_manager_establish_trusted_bond: Scheduling connection to establish bond [DEVICE ID 1]
[00:00:02.985,839] <dbg> ble_manager: ble_manager_connect_to_bonded_device: Found entry in bonded devices to connect to, addr=CC:89:6C:EE:40:F3 (public) [DEVICE ID 1]
[00:00:02.985,961] <dbg> devices_manager: devices_manager_set_device_state: Device ID 1 state changed from DISCONNECTED to BONDED
[00:00:02.986,053] <dbg> ble_manager: ble_manager_connect_to_bonded_device: Set device context to connect to, addr=CC:89:6C:EE:40:F3 (public) [DEVICE ID 1]
[00:00:02.986,145] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_HAS_DISCOVER [DEVICE ID 0]
[00:00:02.986,175] <dbg> ble_manager: ble_process_next_command: No BLE commands in queue [DEVICE ID 0]
[00:00:02.986,206] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=UNKNOWN_COMMAND [DEVICE ID 72]
[00:00:02.986,267] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=UNKNOWN_COMMAND [DEVICE ID 0]
[00:00:03.236,206] <dbg> ble_manager: connect_work_handler: Connect work executing for CC:89:6C:EE:40:F3 (public) [DEVICE ID 1]
[00:00:03.236,297] <dbg> ble_manager: ble_manager_connect: Connecting to CC:89:6C:EE:40:F3 (public)
[00:00:03.275,512] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:03.275,543] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 1
[00:00:03.275,634] <inf> ble_manager: Connected to bonded (or bonding) device CC:89:6C:EE:40:F3 (public) [DEVICE ID 1]
[00:00:03.275,695] <dbg> ble_manager: ble_cmd_enqueue: High priority BLE command enqueued, type: BLE_CMD_REQUEST_SECURITY [DEVICE ID 1]
[00:00:03.276,275] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_REQUEST_SECURITY [DEVICE ID 1]
[00:00:03.276,336] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=BLE_CMD_REQUEST_SECURITY [DEVICE ID 1]
[00:00:03.276,367] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=BLE_CMD_REQUEST_SECURITY [DEVICE ID 1]
[00:00:03.276,397] <dbg> ble_manager: security_request_handler: Requesting security [DEVICE ID 1]
[00:00:03.276,519] <dbg> ble_manager: security_request_handler: Security request initiated [DEVICE ID 1]
[00:00:04.085,327] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:04.085,357] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 1
[00:00:04.085,388] <dbg> ble_manager: security_changed_cb: Security changed: CC:89:6C:EE:40:F3 (public) level 2 [DEVICE ID 1]
[00:00:04.085,418] <dbg> ble_manager: security_changed_cb: Encryption established at level 2 [DEVICE ID 1]
[00:00:04.085,418] <dbg> ble_manager: security_changed_cb: Bonded device - encryption established [DEVICE ID 1]
[00:00:04.085,479] <dbg> devices_manager: devices_manager_set_device_state: Device ID 1 state changed from BONDED to READY
[00:00:04.085,510] <dbg> app_controller: app_controller_notify_device_ready: Notifying device ready: device_id=1
[00:00:04.085,601] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_REQUEST_SECURITY [DEVICE ID 1]
[00:00:04.085,632] <dbg> ble_manager: ble_process_next_command: No BLE commands in queue [DEVICE ID 1]
[00:00:04.085,815] <wrn> bt_l2cap: Ignoring data for unknown channel ID 0x002a
[00:00:04.085,876] <inf> app_controller: [DEVICE ID 1] ready after trusted bond, discovering services
[00:00:04.085,968] <dbg> ble_manager: ble_cmd_enqueue: BLE command enqueued, type: BLE_CMD_BAS_DISCOVER [DEVICE ID 1]
[00:00:04.086,059] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_BAS_DISCOVER [DEVICE ID 1]
[00:00:04.086,059] <dbg> battery_reader: battery_discover: Starting Battery Service discovery [DEVICE ID 1]
[00:00:04.086,334] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=BLE_CMD_BAS_DISCOVER [DEVICE ID 1]
[00:00:04.086,364] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=BLE_CMD_BAS_DISCOVER [DEVICE ID 1]
[00:00:04.185,424] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:04.185,424] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 1
[00:00:04.185,455] <dbg> battery_reader: discover_service_cb: Found Battery Service at handle 0x011E-0x0121 [DEVICE ID 1]
[00:00:04.185,455] <dbg> battery_reader: discover_service_cb: Discover characteristics within Battery Service [DEVICE ID 1]
[00:00:04.285,461] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:04.285,461] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 1
[00:00:04.285,491] <dbg> battery_reader: discover_char_cb: [ATTRIBUTE] handle 0x011F [DEVICE ID 1]
[00:00:04.285,522] <dbg> battery_reader: discover_char_cb: Found Battery Level characteristic at handle 0x0120 (properties 0x12) [DEVICE ID 1]
[00:00:04.386,413] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:04.386,474] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 1
[00:00:04.386,474] <dbg> battery_reader: discover_char_cb: Discovery complete for type 3 [DEVICE ID 1]
[00:00:04.386,505] <dbg> battery_reader: discover_char_cb: Battery Service discovery complete (handle: 0x0120, CCC: 0x0000) [DEVICE ID 1]
[00:00:04.386,505] <inf> app_controller: Notifying BAS discovered: device_id=1
[00:00:04.386,566] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_BAS_DISCOVER [DEVICE ID 1]
[00:00:04.386,596] <dbg> ble_manager: ble_process_next_command: No BLE commands in queue [DEVICE ID 1]
[00:00:04.386,810] <inf> app_controller: BAS discovered for device 1, reading level
[00:00:04.386,901] <dbg> ble_manager: ble_cmd_enqueue: BLE command enqueued, type: BLE_CMD_BAS_READ_LEVEL [DEVICE ID 1]
[00:00:04.386,962] <dbg> ble_manager: ble_cmd_enqueue: BLE command enqueued, type: BLE_CMD_VCP_DISCOVER [DEVICE ID 1]
[00:00:04.387,023] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_BAS_READ_LEVEL [DEVICE ID 1]
[00:00:04.387,054] <dbg> battery_reader: battery_read_level: Reading battery level from handle 0x0120 [DEVICE ID 1]
[00:00:04.387,359] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=BLE_CMD_BAS_READ_LEVEL [DEVICE ID 1]
[00:00:04.387,390] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=BLE_CMD_BAS_READ_LEVEL [DEVICE ID 1]
[00:00:04.535,369] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:04.535,400] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 1
[00:00:04.535,400] <inf> battery_reader: Battery level read: 100% [DEVICE ID 1]
[00:00:04.535,461] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_BAS_READ_LEVEL [DEVICE ID 1]
[00:00:04.535,491] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_VCP_DISCOVER [DEVICE ID 1]
[00:00:04.535,522] <dbg> vcp_controller: vcp_controller_reset: VCP controller state reset [DEVICE ID 1]
[00:00:04.535,614] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=BLE_CMD_VCP_DISCOVER [DEVICE ID 1]
[00:00:04.535,675] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=BLE_CMD_VCP_DISCOVER [DEVICE ID 1]
[00:00:05.035,369] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:05.035,400] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 1
[00:00:05.035,400] <inf> vcp_controller: VCP discovery complete [DEVICE ID 1]
[00:00:05.035,400] <inf> app_controller: Notifying VCP discovered: device_id=1
[00:00:05.035,461] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_VCP_DISCOVER [DEVICE ID 1]
[00:00:05.035,491] <dbg> ble_manager: ble_process_next_command: No BLE commands in queue [DEVICE ID 1]
[00:00:05.035,644] <inf> app_controller: VCP discovered for device 1
[00:00:05.035,705] <dbg> has_controller: has_controller_reset: HAS controller state reset [DEVICE ID 1]
[00:00:05.035,736] <dbg> app_controller: app_controller_thread: All bonded devices managed, entering idle state
[00:00:05.035,736] <dbg> app_controller: app_controller_thread: SM_IDLE: Buttons not ready, initializing buttons
[00:00:05.035,797] <dbg> button_manager: button_manager_init_buttons: Configured button 1 on port gpio@50000000 pin 13
[00:00:05.035,827] <dbg> button_manager: button_manager_init_buttons: Configured button 2 on port gpio@50000000 pin 14
[00:00:05.035,888] <dbg> button_manager: button_manager_init_buttons: Configured button 3 on port gpio@50000000 pin 15
[00:00:05.035,919] <dbg> button_manager: button_manager_init_buttons: Configured button 4 on port gpio@50000000 pin 16
[00:00:05.035,949] <dbg> button_manager: button_manager_init_buttons: Set button 1 interrupt to EDGE_TO_ACTIVE
[00:00:05.035,980] <dbg> button_manager: button_manager_init_buttons: Set button 2 interrupt to EDGE_TO_ACTIVE
[00:00:05.036,010] <dbg> button_manager: button_manager_init_buttons: Set button 3 interrupt to EDGE_TO_ACTIVE
[00:00:05.036,041] <dbg> button_manager: button_manager_init_buttons: Set button 4 interrupt to EDGE_TO_ACTIVE
[00:00:05.036,041] <dbg> button_manager: button_manager_init_buttons: Added callback for button 1
[00:00:05.036,071] <dbg> button_manager: button_manager_init_buttons: Added callback for button 2
[00:00:05.036,071] <dbg> button_manager: button_manager_init_buttons: Added callback for button 3
[00:00:05.036,102] <dbg> button_manager: button_manager_init_buttons: Added callback for button 4
[00:00:15.036,193] <dbg> app_controller: app_controller_thread: SM_IDLE: No event received, entering deep sleep
[00:00:15.036,224] <err> power_manager: Preparing to power off the system...
[00:00:15.036,224] <wrn> display_manager: Cannot sleep display - not initialized
[00:00:15.036,224] <wrn> power_manager: Failed to sleep display (err -19) - continuing
[00:00:15.036,285] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:15.036,315] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:15.036,376] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from READY to DISCONNECTING
[00:00:15.036,376] <inf> ble_manager: Disconnecting connection [DEVICE ID 0]
[00:00:15.036,560] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:15.036,590] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 1
[00:00:15.036,651] <dbg> devices_manager: devices_manager_set_device_state: Device ID 1 state changed from READY to DISCONNECTING
[00:00:15.036,651] <inf> ble_manager: Disconnecting connection [DEVICE ID 1]
[00:00:15.084,259] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:15.084,259] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:15.084,411] <inf> ble_manager: Disconnected from CC:89:6C:EE:41:04 (public) with (reason 0x16) [DEVICE ID 0]
[00:00:15.084,442] <dbg> vcp_controller: vcp_controller_reset: VCP controller state reset [DEVICE ID 0]
[00:00:15.084,442] <dbg> battery_reader: battery_reader_reset: Battery reader state reset [DEVICE ID 0]
[00:00:15.084,503] <dbg> has_controller: has_controller_reset: HAS controller state reset [DEVICE ID 0]
[00:00:15.084,533] <inf> ble_manager: Intentional disconnection completed [DEVICE ID 0]
[00:00:15.084,533] <dbg> app_controller: app_controller_notify_device_disconnected: Notifying device disconnected: device_id=0
[00:00:15.084,594] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from DISCONNECTING to DISCONNECTED
[00:00:15.285,583] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:15.285,583] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 1
[00:00:15.285,675] <inf> ble_manager: Disconnected from CC:89:6C:EE:40:F3 (public) with (reason 0x16) [DEVICE ID 1]
[00:00:15.285,705] <dbg> vcp_controller: vcp_controller_reset: VCP controller state reset [DEVICE ID 1]
[00:00:15.285,705] <dbg> battery_reader: battery_reader_reset: Battery reader state reset [DEVICE ID 1]
[00:00:15.285,736] <inf> ble_manager: Intentional disconnection completed [DEVICE ID 1]
[00:00:15.285,736] <dbg> app_controller: app_controller_notify_device_disconnected: Notifying device disconnected: device_id=1
[00:00:15.285,797] <dbg> devices_manager: devices_manager_set_device_state: Device ID 1 state changed from DISCONNECTING to DISCONNECTED
[00:00:17.986,328] <err> os: ***** BUS FAULT *****
[00:00:17.986,358] <err> os:   Precise data bus error
[00:00:17.986,358] <err> os:   BFAR Address: 0x20657ba1
[00:00:17.986,389] <err> os: r0/a1:  0x20001838  r1/a2:  0xe000ed00  r2/a3:  0x40003070
[00:00:17.986,389] <err> os: r3/a4:  0x0003e22b r12/ip:  0x00000000 r14/lr:  0x0003134f
[00:00:17.986,389] <err> os:  xpsr:  0x01000000
[00:00:17.986,419] <err> os: Faulting instruction address (r15/pc): 0x0003e246
[00:00:17.986,450] <err> os: >>> ZEPHYR FATAL ERROR 25: Unknown error on CPU 0
[00:00:17.986,480] <err> os: Current thread: 0x20003a18 (unknown)
[00:00:18.048,126] <err> os: Halting system
[00:00:00.760,009] <err> ssd1306: Failed to initialize device!
*** Booting Zephyr OS build v4.2.0-3327-g573f42339ebb ***
[00:00:00.760,101] <dbg> power_manager: print_reset_cause: Reset by external pin.
[00:00:00.765,899] <inf> fs_nvs: 6 Sectors of 4096 bytes
[00:00:00.765,930] <inf> fs_nvs: alloc wra: 0, f40
[00:00:00.765,930] <inf> fs_nvs: data wra: 0, 1b8
[00:00:00.767,608] <inf> power_manager: Power manager initialized
[00:00:00.767,608] <err> display_manager: Display device not ready
[00:00:00.767,608] <wrn> main: Display manager init failed (err -19) - continuing without display
[00:00:00.767,608] <inf> vcp_controller: VCP controller initialized
[00:00:00.767,639] <inf> battery_reader: Battery reader initialized
[00:00:00.767,669] <inf> csip_coordinator: CSIP Coordinator initialized
[00:00:00.767,669] <inf> has_controller: HAS controller initialized
[00:00:00.769,012] <inf> bt_hci_core: HW Platform: Nordic Semiconductor (0x0002)
[00:00:00.769,042] <inf> bt_hci_core: HW Variant: nRF52x (0x0002)
[00:00:00.769,073] <inf> bt_hci_core: Firmware: Standard Bluetooth controller (0x00) Version 4.2 Build 99
[00:00:00.769,287] <inf> bt_hci_core: No ID address. App must call settings_load()
[00:00:00.769,317] <inf> ble_manager: Bluetooth initialized
[00:00:00.769,317] <dbg> ble_manager: bt_ready_cb: Loading BT settings from flash
[00:00:00.770,660] <inf> bt_hci_core: HCI transport: Controller
[00:00:00.770,751] <inf> bt_hci_core: Identity: D0:26:7A:4D:45:9E (random)
[00:00:00.770,782] <inf> bt_hci_core: HCI: version 5.4 (0x0d) revision 0x0000, manufacturer 0x05f1
[00:00:00.770,812] <inf> bt_hci_core: LMP: version 5.4 (0x0d) subver 0xffff
[00:00:00.770,843] <dbg> ble_manager: bt_ready_cb: Clearing filter accept list
[00:00:00.770,935] <dbg> ble_manager: ble_manager_init: Initializing security & connection works
[00:00:00.771,087] <inf> devices_manager: Updating bonded devices collection...
[00:00:00.772,125] <dbg> csip_coordinator: csip_settings_load_sirk: CSIP data not found for CC:89:6C:EE:41:04 (public) (SIRK: no, rank: no)
[00:00:00.772,247] <dbg> devices_manager: enumerate_bonds_cb: Enumerated bonded device 0: CC:89:6C:EE:41:04 (public) (SIRK: no, Rank: 0)
[00:00:00.773,345] <dbg> csip_coordinator: csip_settings_load_sirk: Loaded CSIP info for CC:89:6C:EE:40:F3 (public): rank=1
[00:00:00.773,468] <dbg> devices_manager: enumerate_bonds_cb: Enumerated bonded device 1: CC:89:6C:EE:40:F3 (public) (SIRK: yes, Rank: 1)
[00:00:00.773,498] <inf> devices_manager: Enumerated 2 bonded devices
[00:00:00.773,498] <inf> devices_manager: Bonded devices collection updated. Total bonded devices: 2
[00:00:00.773,498] <inf> devices_manager: Devices manager initialized
[00:00:00.773,529] <inf> ble_manager: BLE manager and subsystems initialized
[00:00:00.773,559] <dbg> app_controller: app_controller_notify_system_ready: Notifying system ready
[00:00:00.774,200] <dbg> app_controller: app_controller_thread: App thread started
[00:00:00.774,230] <dbg> app_controller: app_controller_thread: SM_WAKE: Determining state
[00:00:00.774,230] <inf> app_controller: One or two bonded devices found, connecting and verifying set membership
[00:00:00.774,261] <dbg> app_controller: app_controller_thread: SM_BONDED_DEVICES: Managing bonded device(s)
[00:00:00.774,261] <inf> ble_manager: Establishing trusted bond with device [DEVICE ID 0]
[00:00:00.774,322] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from DISCONNECTED to TRUSTING
[00:00:00.774,353] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:00.774,353] <dbg> devices_manager: devices_manager_get_device_context_by_conn: No device with matching connection found
[00:00:00.774,353] <err> ble_manager: Cannot disconnect - device context not found
[00:00:00.774,383] <wrn> ble_manager: Failed to disconnect for bonding (err -22) [DEVICE ID 0]
[00:00:00.774,383] <dbg> ble_manager: ble_manager_establish_trusted_bond: Scheduling connection to establish bond [DEVICE ID 0]
[00:00:00.774,505] <dbg> ble_manager: ble_manager_connect_to_bonded_device: Found entry in bonded devices to connect to, addr=CC:89:6C:EE:41:04 (public) [DEVICE ID 0]
[00:00:00.774,597] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from DISCONNECTED to BONDED
[00:00:00.774,719] <dbg> ble_manager: ble_manager_connect_to_bonded_device: Set device context to connect to, addr=CC:89:6C:EE:41:04 (public) [DEVICE ID 0]
[00:00:00.774,749] <inf> ble_manager: [DEVICE ID 0] BLE command thread started
[00:00:00.774,780] <inf> ble_manager: [DEVICE ID 1] BLE command thread started
[00:00:01.024,871] <dbg> ble_manager: connect_work_handler: Connect work executing for CC:89:6C:EE:41:04 (public) [DEVICE ID 0]
[00:00:01.024,963] <dbg> ble_manager: ble_manager_connect: Connecting to CC:89:6C:EE:41:04 (public)
[00:00:01.073,852] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:01.073,852] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:01.073,974] <inf> ble_manager: Connected to bonded (or bonding) device CC:89:6C:EE:41:04 (public) [DEVICE ID 0]
[00:00:01.074,096] <dbg> ble_manager: ble_cmd_enqueue: High priority BLE command enqueued, type: BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
[00:00:01.074,676] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
[00:00:01.074,737] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
[00:00:01.074,798] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
[00:00:01.074,829] <dbg> ble_manager: security_request_handler: Requesting security [DEVICE ID 0]
[00:00:01.074,920] <dbg> ble_manager: security_request_handler: Security request initiated [DEVICE ID 0]
[00:00:01.924,224] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:01.924,255] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:01.924,316] <dbg> ble_manager: security_changed_cb: Security changed: CC:89:6C:EE:41:04 (public) level 2 [DEVICE ID 0]
[00:00:01.924,316] <dbg> ble_manager: security_changed_cb: Encryption established at level 2 [DEVICE ID 0]
[00:00:01.924,346] <dbg> ble_manager: security_changed_cb: Bonded device - encryption established [DEVICE ID 0]
[00:00:01.924,407] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from BONDED to READY
[00:00:01.924,407] <dbg> app_controller: app_controller_notify_device_ready: Notifying device ready: device_id=0
[00:00:01.924,468] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
[00:00:01.924,499] <dbg> ble_manager: ble_process_next_command: No BLE commands in queue [DEVICE ID 0]
[00:00:01.924,560] <inf> app_controller: [DEVICE ID 0] ready after trusted bond, discovering services
[00:00:01.924,621] <dbg> ble_manager: ble_cmd_enqueue: BLE command enqueued, type: BLE_CMD_BAS_DISCOVER [DEVICE ID 0]
[00:00:01.924,713] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_BAS_DISCOVER [DEVICE ID 0]
[00:00:01.924,713] <dbg> battery_reader: battery_discover: Starting Battery Service discovery [DEVICE ID 0]
[00:00:01.924,957] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=BLE_CMD_BAS_DISCOVER [DEVICE ID 0]
[00:00:01.925,018] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=BLE_CMD_BAS_DISCOVER [DEVICE ID 0]
[00:00:01.974,365] <wrn> bt_l2cap: Ignoring data for unknown channel ID 0x002a
[00:00:02.074,340] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:02.074,340] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:02.074,371] <dbg> battery_reader: discover_service_cb: Found Battery Service at handle 0x011E-0x0121 [DEVICE ID 0]
[00:00:02.074,371] <dbg> battery_reader: discover_service_cb: Discover characteristics within Battery Service [DEVICE ID 0]
[00:00:02.174,316] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:02.174,377] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:02.174,377] <dbg> battery_reader: discover_char_cb: [ATTRIBUTE] handle 0x011F [DEVICE ID 0]
[00:00:02.174,407] <dbg> battery_reader: discover_char_cb: Found Battery Level characteristic at handle 0x0120 (properties 0x12) [DEVICE ID 0]
[00:00:02.274,353] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:02.274,353] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:02.274,383] <dbg> battery_reader: discover_char_cb: Discovery complete for type 3 [DEVICE ID 0]
[00:00:02.274,383] <dbg> battery_reader: discover_char_cb: Battery Service discovery complete (handle: 0x0120, CCC: 0x0000) [DEVICE ID 0]
[00:00:02.274,414] <inf> app_controller: Notifying BAS discovered: device_id=0
[00:00:02.274,444] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_BAS_DISCOVER [DEVICE ID 0]
[00:00:02.274,505] <dbg> ble_manager: ble_process_next_command: No BLE commands in queue [DEVICE ID 0]
[00:00:02.274,566] <inf> app_controller: BAS discovered for device 0, reading level
[00:00:02.274,627] <dbg> ble_manager: ble_cmd_enqueue: BLE command enqueued, type: BLE_CMD_BAS_READ_LEVEL [DEVICE ID 0]
[00:00:02.274,688] <dbg> ble_manager: ble_cmd_enqueue: BLE command enqueued, type: BLE_CMD_VCP_DISCOVER [DEVICE ID 0]
[00:00:02.274,780] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_BAS_READ_LEVEL [DEVICE ID 0]
[00:00:02.274,810] <dbg> battery_reader: battery_read_level: Reading battery level from handle 0x0120 [DEVICE ID 0]
[00:00:02.275,085] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=BLE_CMD_BAS_READ_LEVEL [DEVICE ID 0]
[00:00:02.275,146] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=BLE_CMD_BAS_READ_LEVEL [DEVICE ID 0]
[00:00:02.424,224] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:02.424,224] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:02.424,255] <inf> battery_reader: Battery level read: 90% [DEVICE ID 0]
[00:00:02.424,285] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_BAS_READ_LEVEL [DEVICE ID 0]
[00:00:02.424,346] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_VCP_DISCOVER [DEVICE ID 0]
[00:00:02.424,346] <dbg> vcp_controller: vcp_controller_reset: VCP controller state reset [DEVICE ID 0]
[00:00:02.424,468] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=BLE_CMD_VCP_DISCOVER [DEVICE ID 0]
[00:00:02.424,499] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=BLE_CMD_VCP_DISCOVER [DEVICE ID 0]
[00:00:02.924,285] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:02.924,316] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:02.924,316] <inf> vcp_controller: VCP discovery complete [DEVICE ID 0]
[00:00:02.924,316] <inf> app_controller: Notifying VCP discovered: device_id=0
[00:00:02.924,377] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_VCP_DISCOVER [DEVICE ID 0]
[00:00:02.924,407] <dbg> ble_manager: ble_process_next_command: No BLE commands in queue [DEVICE ID 0]
[00:00:02.924,560] <inf> app_controller: VCP discovered for device 0
[00:00:02.924,621] <dbg> has_controller: has_controller_reset: HAS controller state reset [DEVICE ID 0]
[00:00:02.924,682] <dbg> ble_manager: ble_cmd_enqueue: BLE command enqueued, type: BLE_CMD_HAS_DISCOVER [DEVICE ID 0]
[00:00:02.924,774] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_HAS_DISCOVER [DEVICE ID 0]
[00:00:02.924,926] <dbg> has_settings: has_settings_load_handles: Loading HAS handles for CC:89:6C:EE:41:04 (public) at harc/device/CC:89:6C:EE:41:04 (public)
[00:00:02.925,842] <inf> has_settings: Loaded HAS handles for CC:89:6C:EE:41:04 (public)
[00:00:02.925,842] <inf> has_settings:   features: 253 (ccc: 254)
[00:00:02.925,842] <inf> has_settings:   control_point: 250 (ccc: 251)
[00:00:02.925,842] <inf> has_settings:   active_index: 256 (ccc: 257)
[00:00:02.925,872] <inf> has_controller: Found cached HAS handles, attempting to restore
[00:00:02.925,872] <dbg> has_controller: has_cmd_discover: Starting HAS discovery
[00:00:02.925,903] <inf> bt_has_client: Handles already set - skipping discovery
[00:00:02.925,903] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:02.925,933] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:02.925,933] <inf> has_controller: HAS discovery complete
[00:00:02.925,933] <inf> has_controller: Hearing aid type: 0
[00:00:02.925,964] <inf> has_controller: Hearing aid capabilities: 0x01
[00:00:02.926,177] <inf> has_settings: Stored HAS handles for CC:89:6C:EE:41:04 (public) at harc/device/CC:89:6C:EE:41:04 (public)/has_handles
[00:00:02.926,177] <inf> has_settings:   features: 253 (ccc: 254)
[00:00:02.926,177] <inf> has_settings:   control_point: 250 (ccc: 251)
[00:00:02.926,208] <inf> has_settings:   active_index: 256 (ccc: 257)
[00:00:02.926,208] <inf> has_controller: HAS handles cached to NVS
[00:00:02.926,208] <dbg> app_controller: app_controller_notify_has_discovered: Notifying HAS discovered: device_id=0
[00:00:02.926,269] <inf> app_controller: HAS discovered for device 0
[00:00:02.926,269] <dbg> app_controller: app_controller_thread: All bonded devices managed, entering idle state
[00:00:02.926,300] <dbg> app_controller: app_controller_thread: SM_IDLE: Buttons not ready, initializing buttons
[00:00:02.926,330] <dbg> button_manager: button_manager_init_buttons: Configured button 1 on port gpio@50000000 pin 13
[00:00:02.926,391] <dbg> button_manager: button_manager_init_buttons: Configured button 2 on port gpio@50000000 pin 14
[00:00:02.926,422] <dbg> button_manager: button_manager_init_buttons: Configured button 3 on port gpio@50000000 pin 15
[00:00:02.926,483] <dbg> button_manager: button_manager_init_buttons: Configured button 4 on port gpio@50000000 pin 16
[00:00:02.926,513] <dbg> button_manager: button_manager_init_buttons: Set button 1 interrupt to EDGE_TO_ACTIVE
[00:00:02.926,544] <dbg> button_manager: button_manager_init_buttons: Set button 2 interrupt to EDGE_TO_ACTIVE
[00:00:02.926,544] <dbg> button_manager: button_manager_init_buttons: Set button 3 interrupt to EDGE_TO_ACTIVE
[00:00:02.926,574] <dbg> button_manager: button_manager_init_buttons: Set button 4 interrupt to EDGE_TO_ACTIVE
[00:00:02.926,605] <dbg> button_manager: button_manager_init_buttons: Added callback for button 1
[00:00:02.926,605] <dbg> button_manager: button_manager_init_buttons: Added callback for button 2
[00:00:02.926,635] <dbg> button_manager: button_manager_init_buttons: Added callback for button 3
[00:00:02.926,635] <dbg> button_manager: button_manager_init_buttons: Added callback for button 4
[00:00:02.926,727] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_HAS_DISCOVER [DEVICE ID 0]
[00:00:02.926,757] <dbg> ble_manager: ble_process_next_command: No BLE commands in queue [DEVICE ID 0]
[00:00:02.926,788] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=UNKNOWN_COMMAND [DEVICE ID 72]
[00:00:02.926,849] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=UNKNOWN_COMMAND [DEVICE ID 0]
[00:00:12.926,727] <dbg> app_controller: app_controller_thread: SM_IDLE: No event received, entering deep sleep
[00:00:12.926,757] <err> power_manager: Preparing to power off the system...
[00:00:12.926,757] <wrn> display_manager: Cannot sleep display - not initialized
[00:00:12.926,757] <wrn> power_manager: Failed to sleep display (err -19) - continuing
[00:00:12.926,818] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:12.926,849] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:12.926,910] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from READY to DISCONNECTING
[00:00:12.926,910] <inf> ble_manager: Disconnecting connection [DEVICE ID 0]
[00:00:12.927,093] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:12.927,124] <dbg> devices_manager: devices_manager_get_device_context_by_conn: No device with matching connection found
[00:00:12.927,124] <err> ble_manager: Cannot disconnect - device context not found
[00:00:13.124,877] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:13.124,908] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:13.125,000] <inf> ble_manager: Disconnected from CC:89:6C:EE:41:04 (public) with (reason 0x16) [DEVICE ID 0]
[00:00:13.125,030] <dbg> vcp_controller: vcp_controller_reset: VCP controller state reset [DEVICE ID 0]
[00:00:13.125,030] <dbg> battery_reader: battery_reader_reset: Battery reader state reset [DEVICE ID 0]
[00:00:13.125,091] <dbg> has_controller: has_controller_reset: HAS controller state reset [DEVICE ID 0]
[00:00:13.125,091] <inf> ble_manager: Intentional disconnection completed [DEVICE ID 0]
[00:00:13.125,122] <dbg> app_controller: app_controller_notify_device_disconnected: Notifying device disconnected: device_id=0
[00:00:13.125,183] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from DISCONNECTING to DISCONNECTED
[00:00:17.926,910] <err> os: ***** BUS FAULT *****
[00:00:17.926,940] <err> os:   Imprecise data bus error
[00:00:17.926,940] <err> os: r0/a1:  0x00000000  r1/a2:  0x44502070  r2/a3:  0x20001838
[00:00:17.926,971] <err> os: r3/a4:  0x00046a8d r12/ip:  0x00000000 r14/lr:  0x0003135b
[00:00:17.926,971] <err> os:  xpsr:  0x41000000
[00:00:17.926,971] <err> os: Faulting instruction address (r15/pc): 0x00046acc
[00:00:17.927,032] <err> os: >>> ZEPHYR FATAL ERROR 26: Unknown error on CPU 0
[00:00:17.927,062] <err> os: Current thread: 0x20003a18 (unknown)
[00:00:17.983,062] <err> os: Halting system
[00:00:00.760,009] <err> ssd1306: Failed to initialize device!
*** Booting Zephyr OS build v4.2.0-3327-g573f42339ebb ***
[00:00:00.760,101] <dbg> power_manager: print_reset_cause: Reset by external pin.
[00:00:00.765,777] <inf> fs_nvs: 6 Sectors of 4096 bytes
[00:00:00.765,777] <inf> fs_nvs: alloc wra: 0, f40
[00:00:00.765,777] <inf> fs_nvs: data wra: 0, 1b8
[00:00:00.767,517] <inf> power_manager: Power manager initialized
[00:00:00.767,547] <err> display_manager: Display device not ready
[00:00:00.767,547] <wrn> main: Display manager init failed (err -19) - continuing without display
[00:00:00.767,547] <inf> vcp_controller: VCP controller initialized
[00:00:00.767,578] <inf> battery_reader: Battery reader initialized
[00:00:00.767,608] <inf> csip_coordinator: CSIP Coordinator initialized
[00:00:00.767,608] <inf> has_controller: HAS controller initialized
[00:00:00.768,981] <inf> bt_hci_core: HW Platform: Nordic Semiconductor (0x0002)
[00:00:00.769,012] <inf> bt_hci_core: HW Variant: nRF52x (0x0002)
[00:00:00.769,042] <inf> bt_hci_core: Firmware: Standard Bluetooth controller (0x00) Version 4.2 Build 99
[00:00:00.769,256] <inf> bt_hci_core: No ID address. App must call settings_load()
[00:00:00.769,287] <inf> ble_manager: Bluetooth initialized
[00:00:00.769,287] <dbg> ble_manager: bt_ready_cb: Loading BT settings from flash
[00:00:00.770,629] <inf> bt_hci_core: HCI transport: Controller
[00:00:00.770,721] <inf> bt_hci_core: Identity: D0:26:7A:4D:45:9E (random)
[00:00:00.770,751] <inf> bt_hci_core: HCI: version 5.4 (0x0d) revision 0x0000, manufacturer 0x05f1
[00:00:00.770,782] <inf> bt_hci_core: LMP: version 5.4 (0x0d) subver 0xffff
[00:00:00.770,843] <dbg> ble_manager: bt_ready_cb: Clearing filter accept list
[00:00:00.770,935] <dbg> ble_manager: ble_manager_init: Initializing security & connection works
[00:00:00.771,148] <inf> devices_manager: Updating bonded devices collection...
[00:00:00.772,155] <dbg> csip_coordinator: csip_settings_load_sirk: CSIP data not found for CC:89:6C:EE:41:04 (public) (SIRK: no, rank: no)
[00:00:00.772,308] <dbg> devices_manager: enumerate_bonds_cb: Enumerated bonded device 0: CC:89:6C:EE:41:04 (public) (SIRK: no, Rank: 0)
[00:00:00.773,406] <dbg> csip_coordinator: csip_settings_load_sirk: Loaded CSIP info for CC:89:6C:EE:40:F3 (public): rank=1
[00:00:00.773,529] <dbg> devices_manager: enumerate_bonds_cb: Enumerated bonded device 1: CC:89:6C:EE:40:F3 (public) (SIRK: yes, Rank: 1)
[00:00:00.773,559] <inf> devices_manager: Enumerated 2 bonded devices
[00:00:00.773,559] <inf> devices_manager: Bonded devices collection updated. Total bonded devices: 2
[00:00:00.773,590] <inf> devices_manager: Devices manager initialized
[00:00:00.773,590] <inf> ble_manager: BLE manager and subsystems initialized
[00:00:00.773,620] <dbg> app_controller: app_controller_notify_system_ready: Notifying system ready
[00:00:00.774,291] <dbg> app_controller: app_controller_thread: App thread started
[00:00:00.774,291] <dbg> app_controller: app_controller_thread: SM_WAKE: Determining state
[00:00:00.774,322] <inf> app_controller: One or two bonded devices found, connecting and verifying set membership
[00:00:00.774,322] <dbg> app_controller: app_controller_thread: SM_BONDED_DEVICES: Managing bonded device(s)
[00:00:00.774,322] <inf> ble_manager: Establishing trusted bond with device [DEVICE ID 0]
[00:00:00.774,414] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from DISCONNECTED to TRUSTING
[00:00:00.774,414] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:00.774,444] <dbg> devices_manager: devices_manager_get_device_context_by_conn: No device with matching connection found
[00:00:00.774,444] <err> ble_manager: Cannot disconnect - device context not found
[00:00:00.774,444] <wrn> ble_manager: Failed to disconnect for bonding (err -22) [DEVICE ID 0]
[00:00:00.774,475] <dbg> ble_manager: ble_manager_establish_trusted_bond: Scheduling connection to establish bond [DEVICE ID 0]
[00:00:00.774,597] <dbg> ble_manager: ble_manager_connect_to_bonded_device: Found entry in bonded devices to connect to, addr=CC:89:6C:EE:41:04 (public) [DEVICE ID 0]
[00:00:00.774,719] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from DISCONNECTED to BONDED
[00:00:00.774,841] <dbg> ble_manager: ble_manager_connect_to_bonded_device: Set device context to connect to, addr=CC:89:6C:EE:41:04 (public) [DEVICE ID 0]
[00:00:00.774,871] <inf> ble_manager: [DEVICE ID 0] BLE command thread started
[00:00:00.774,902] <inf> ble_manager: [DEVICE ID 1] BLE command thread started
[00:00:01.025,024] <dbg> ble_manager: connect_work_handler: Connect work executing for CC:89:6C:EE:41:04 (public) [DEVICE ID 0]
[00:00:01.025,115] <dbg> ble_manager: ble_manager_connect: Connecting to CC:89:6C:EE:41:04 (public)
[00:00:01.067,138] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:01.067,138] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:01.067,260] <inf> ble_manager: Connected to bonded (or bonding) device CC:89:6C:EE:41:04 (public) [DEVICE ID 0]
[00:00:01.067,321] <dbg> ble_manager: ble_cmd_enqueue: High priority BLE command enqueued, type: BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
[00:00:01.067,932] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
[00:00:01.067,993] <dbg> ble_manager: security_request_handler: Requesting security [DEVICE ID 0]
[00:00:01.068,084] <dbg> ble_manager: security_request_handler: Security request initiated [DEVICE ID 0]
[00:00:01.068,267] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
[00:00:01.068,328] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
[00:00:01.668,457] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:01.668,457] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:01.668,518] <dbg> ble_manager: security_changed_cb: Security changed: CC:89:6C:EE:41:04 (public) level 2 [DEVICE ID 0]
[00:00:01.668,518] <dbg> ble_manager: security_changed_cb: Encryption established at level 2 [DEVICE ID 0]
[00:00:01.668,548] <dbg> ble_manager: security_changed_cb: Bonded device - encryption established [DEVICE ID 0]
[00:00:01.668,609] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from BONDED to READY
[00:00:01.668,609] <dbg> app_controller: app_controller_notify_device_ready: Notifying device ready: device_id=0
[00:00:01.668,731] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
[00:00:01.668,762] <dbg> ble_manager: ble_process_next_command: No BLE commands in queue [DEVICE ID 0]
[00:00:01.668,945] <wrn> bt_l2cap: Ignoring data for unknown channel ID 0x002a
[00:00:01.669,006] <inf> app_controller: [DEVICE ID 0] ready after trusted bond, discovering services
[00:00:01.669,097] <dbg> ble_manager: ble_cmd_enqueue: BLE command enqueued, type: BLE_CMD_BAS_DISCOVER [DEVICE ID 0]
[00:00:01.669,189] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_BAS_DISCOVER [DEVICE ID 0]
[00:00:01.669,189] <dbg> battery_reader: battery_discover: Starting Battery Service discovery [DEVICE ID 0]
[00:00:01.669,464] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=BLE_CMD_BAS_DISCOVER [DEVICE ID 0]
[00:00:01.669,494] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=BLE_CMD_BAS_DISCOVER [DEVICE ID 0]
[00:00:01.768,524] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:01.768,524] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:01.768,554] <dbg> battery_reader: discover_service_cb: Found Battery Service at handle 0x011E-0x0121 [DEVICE ID 0]
[00:00:01.768,554] <dbg> battery_reader: discover_service_cb: Discover characteristics within Battery Service [DEVICE ID 0]
[00:00:01.868,560] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:01.868,591] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:01.868,591] <dbg> battery_reader: discover_char_cb: [ATTRIBUTE] handle 0x011F [DEVICE ID 0]
[00:00:01.868,621] <dbg> battery_reader: discover_char_cb: Found Battery Level characteristic at handle 0x0120 (properties 0x12) [DEVICE ID 0]
[00:00:02.018,554] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:02.018,554] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:02.018,585] <dbg> battery_reader: discover_char_cb: Discovery complete for type 3 [DEVICE ID 0]
[00:00:02.018,585] <dbg> battery_reader: discover_char_cb: Battery Service discovery complete (handle: 0x0120, CCC: 0x0000) [DEVICE ID 0]
[00:00:02.018,615] <inf> app_controller: Notifying BAS discovered: device_id=0
[00:00:02.018,737] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_BAS_DISCOVER [DEVICE ID 0]
[00:00:02.018,737] <dbg> ble_manager: ble_process_next_command: No BLE commands in queue [DEVICE ID 0]
[00:00:02.018,920] <inf> app_controller: BAS discovered for device 0, reading level
[00:00:02.018,981] <dbg> ble_manager: ble_cmd_enqueue: BLE command enqueued, type: BLE_CMD_BAS_READ_LEVEL [DEVICE ID 0]
[00:00:02.019,042] <dbg> ble_manager: ble_cmd_enqueue: BLE command enqueued, type: BLE_CMD_VCP_DISCOVER [DEVICE ID 0]
[00:00:02.019,104] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_BAS_READ_LEVEL [DEVICE ID 0]
[00:00:02.019,134] <dbg> battery_reader: battery_read_level: Reading battery level from handle 0x0120 [DEVICE ID 0]
[00:00:02.019,378] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=BLE_CMD_BAS_READ_LEVEL [DEVICE ID 0]
[00:00:02.019,439] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=BLE_CMD_BAS_READ_LEVEL [DEVICE ID 0]
[00:00:02.118,896] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:02.118,927] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:02.118,927] <inf> battery_reader: Battery level read: 90% [DEVICE ID 0]
[00:00:02.118,988] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_BAS_READ_LEVEL [DEVICE ID 0]
[00:00:02.119,049] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_VCP_DISCOVER [DEVICE ID 0]
[00:00:02.119,049] <dbg> vcp_controller: vcp_controller_reset: VCP controller state reset [DEVICE ID 0]
[00:00:02.119,232] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=BLE_CMD_VCP_DISCOVER [DEVICE ID 0]
[00:00:02.119,262] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=BLE_CMD_VCP_DISCOVER [DEVICE ID 0]
[00:00:02.668,487] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:02.668,518] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:02.668,518] <inf> vcp_controller: VCP discovery complete [DEVICE ID 0]
[00:00:02.668,548] <inf> app_controller: Notifying VCP discovered: device_id=0
[00:00:02.668,609] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_VCP_DISCOVER [DEVICE ID 0]
[00:00:02.668,609] <dbg> ble_manager: ble_process_next_command: No BLE commands in queue [DEVICE ID 0]
[00:00:02.668,792] <inf> app_controller: VCP discovered for device 0
[00:00:02.668,884] <dbg> has_controller: has_controller_reset: HAS controller state reset [DEVICE ID 0]
[00:00:02.668,945] <dbg> ble_manager: ble_cmd_enqueue: BLE command enqueued, type: BLE_CMD_HAS_DISCOVER [DEVICE ID 0]
[00:00:02.669,006] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_HAS_DISCOVER [DEVICE ID 0]
[00:00:02.669,189] <dbg> has_settings: has_settings_load_handles: Loading HAS handles for CC:89:6C:EE:41:04 (public) at harc/device/CC:89:6C:EE:41:04 (public)
[00:00:02.670,074] <inf> has_settings: Loaded HAS handles for CC:89:6C:EE:41:04 (public)
[00:00:02.670,074] <inf> has_settings:   features: 253 (ccc: 254)
[00:00:02.670,104] <inf> has_settings:   control_point: 250 (ccc: 251)
[00:00:02.670,104] <inf> has_settings:   active_index: 256 (ccc: 257)
[00:00:02.670,104] <inf> has_controller: Found cached HAS handles, attempting to restore
[00:00:02.670,135] <dbg> has_controller: has_cmd_discover: Starting HAS discovery
[00:00:02.670,135] <inf> bt_has_client: Handles already set - skipping discovery
[00:00:02.670,166] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:02.670,166] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:02.670,196] <inf> has_controller: HAS discovery complete
[00:00:02.670,196] <inf> has_controller: Hearing aid type: 0
[00:00:02.670,196] <inf> has_controller: Hearing aid capabilities: 0x01
[00:00:02.670,410] <inf> has_settings: Stored HAS handles for CC:89:6C:EE:41:04 (public) at harc/device/CC:89:6C:EE:41:04 (public)/has_handles
[00:00:02.670,440] <inf> has_settings:   features: 253 (ccc: 254)
[00:00:02.670,440] <inf> has_settings:   control_point: 250 (ccc: 251)
[00:00:02.670,440] <inf> has_settings:   active_index: 256 (ccc: 257)
[00:00:02.670,471] <inf> has_controller: HAS handles cached to NVS
[00:00:02.670,471] <dbg> app_controller: app_controller_notify_has_discovered: Notifying HAS discovered: device_id=0
[00:00:02.670,532] <inf> app_controller: HAS discovered for device 0
[00:00:02.670,532] <dbg> app_controller: app_controller_thread: All bonded devices managed, entering idle state
[00:00:02.670,562] <dbg> app_controller: app_controller_thread: SM_IDLE: Buttons not ready, initializing buttons
[00:00:02.670,593] <dbg> button_manager: button_manager_init_buttons: Configured button 1 on port gpio@50000000 pin 13
[00:00:02.670,654] <dbg> button_manager: button_manager_init_buttons: Configured button 2 on port gpio@50000000 pin 14
[00:00:02.670,684] <dbg> button_manager: button_manager_init_buttons: Configured button 3 on port gpio@50000000 pin 15
[00:00:02.670,745] <dbg> button_manager: button_manager_init_buttons: Configured button 4 on port gpio@50000000 pin 16
[00:00:02.670,776] <dbg> button_manager: button_manager_init_buttons: Set button 1 interrupt to EDGE_TO_ACTIVE
[00:00:02.670,806] <dbg> button_manager: button_manager_init_buttons: Set button 2 interrupt to EDGE_TO_ACTIVE
[00:00:02.670,806] <dbg> button_manager: button_manager_init_buttons: Set button 3 interrupt to EDGE_TO_ACTIVE
[00:00:02.670,837] <dbg> button_manager: button_manager_init_buttons: Set button 4 interrupt to EDGE_TO_ACTIVE
[00:00:02.670,867] <dbg> button_manager: button_manager_init_buttons: Added callback for button 1
[00:00:02.670,867] <dbg> button_manager: button_manager_init_buttons: Added callback for button 2
[00:00:02.670,898] <dbg> button_manager: button_manager_init_buttons: Added callback for button 3
[00:00:02.670,898] <dbg> button_manager: button_manager_init_buttons: Added callback for button 4
[00:00:02.670,989] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_HAS_DISCOVER [DEVICE ID 0]
[00:00:02.671,020] <dbg> ble_manager: ble_process_next_command: No BLE commands in queue [DEVICE ID 0]
[00:00:02.671,081] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=UNKNOWN_COMMAND [DEVICE ID 72]
[00:00:02.671,112] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=UNKNOWN_COMMAND [DEVICE ID 0]
[00:00:12.671,020] <dbg> app_controller: app_controller_thread: SM_IDLE: No event received, entering deep sleep
[00:00:12.671,051] <err> power_manager: Preparing to power off the system...
[00:00:12.671,051] <wrn> display_manager: Cannot sleep display - not initialized
[00:00:12.671,051] <wrn> power_manager: Failed to sleep display (err -19) - continuing
[00:00:12.671,112] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:12.671,142] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:12.671,203] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from READY to DISCONNECTING
[00:00:12.671,203] <inf> ble_manager: Disconnecting connection [DEVICE ID 0]
[00:00:12.869,110] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:12.869,140] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:12.869,232] <inf> ble_manager: Disconnected from CC:89:6C:EE:41:04 (public) with (reason 0x16) [DEVICE ID 0]
[00:00:12.869,262] <dbg> vcp_controller: vcp_controller_reset: VCP controller state reset [DEVICE ID 0]
[00:00:12.869,262] <dbg> battery_reader: battery_reader_reset: Battery reader state reset [DEVICE ID 0]
[00:00:12.869,354] <dbg> has_controller: has_controller_reset: HAS controller state reset [DEVICE ID 0]
[00:00:12.869,354] <inf> ble_manager: Intentional disconnection completed [DEVICE ID 0]
[00:00:12.869,384] <dbg> app_controller: app_controller_notify_device_disconnected: Notifying device disconnected: device_id=0
[00:00:12.869,445] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from DISCONNECTING to DISCONNECTED
[00:00:17.671,173] <err> os: ***** BUS FAULT *****
[00:00:17.671,203] <err> os:   Precise data bus error
[00:00:17.671,203] <err> os:   BFAR Address: 0x20657ba1
[00:00:17.671,234] <err> os: r0/a1:  0x20001838  r1/a2:  0xe000ed00  r2/a3:  0x40003070
[00:00:17.671,234] <err> os: r3/a4:  0x0003e22b r12/ip:  0x00000003 r14/lr:  0x00031353
[00:00:17.671,234] <err> os:  xpsr:  0x01000000
[00:00:17.671,264] <err> os: Faulting instruction address (r15/pc): 0x0003e246
[00:00:17.671,295] <err> os: >>> ZEPHYR FATAL ERROR 25: Unknown error on CPU 0
[00:00:17.671,325] <err> os: Current thread: 0x20003a18 (unknown)
[00:00:17.733,001] <err> os: Halting system
[00:00:00.759,979] <err> ssd1306: Failed to initialize device!
*** Booting Zephyr OS build v4.2.0-3327-g573f42339ebb ***
[00:00:01.909,698] <dbg> power_manager: print_reset_cause: Reset by external pin.
[00:00:01.916,381] <inf> fs_nvs: 6 Sectors of 4096 bytes
[00:00:01.916,381] <inf> fs_nvs: alloc wra: 0, f40
[00:00:01.916,381] <inf> fs_nvs: data wra: 0, 1b8
[00:00:01.918,212] <inf> power_manager: Power manager initialized
[00:00:01.918,212] <err> display_manager: Display device not ready
[00:00:01.918,212] <wrn> main: Display manager init failed (err -19) - continuing without display
[00:00:01.918,243] <inf> vcp_controller: VCP controller initialized
[00:00:01.918,243] <inf> battery_reader: Battery reader initialized
[00:00:01.918,273] <inf> csip_coordinator: CSIP Coordinator initialized
[00:00:01.918,273] <inf> has_controller: HAS controller initialized
[00:00:01.919,799] <inf> bt_hci_core: HW Platform: Nordic Semiconductor (0x0002)
[00:00:01.919,830] <inf> bt_hci_core: HW Variant: nRF52x (0x0002)
[00:00:01.919,860] <inf> bt_hci_core: Firmware: Standard Bluetooth controller (0x00) Version 4.2 Build 99
[00:00:01.920,104] <inf> bt_hci_core: No ID address. App must call settings_load()
[00:00:01.920,104] <inf> ble_manager: Bluetooth initialized
[00:00:01.920,135] <dbg> ble_manager: bt_ready_cb: Loading BT settings from flash
[00:00:01.921,600] <inf> bt_hci_core: HCI transport: Controller
[00:00:01.921,691] <inf> bt_hci_core: Identity: D0:26:7A:4D:45:9E (random)
[00:00:01.921,722] <inf> bt_hci_core: HCI: version 5.4 (0x0d) revision 0x0000, manufacturer 0x05f1
[00:00:01.921,752] <inf> bt_hci_core: LMP: version 5.4 (0x0d) subver 0xffff
[00:00:01.921,813] <dbg> ble_manager: bt_ready_cb: Clearing filter accept list
[00:00:01.921,905] <dbg> ble_manager: ble_manager_init: Initializing security & connection works
[00:00:01.922,058] <inf> devices_manager: Updating bonded devices collection...
[00:00:01.923,156] <dbg> csip_coordinator: csip_settings_load_sirk: CSIP data not found for CC:89:6C:EE:41:04 (public) (SIRK: no, rank: no)
[00:00:01.923,278] <dbg> devices_manager: enumerate_bonds_cb: Enumerated bonded device 0: CC:89:6C:EE:41:04 (public) (SIRK: no, Rank: 0)
[00:00:01.924,468] <dbg> csip_coordinator: csip_settings_load_sirk: Loaded CSIP info for CC:89:6C:EE:40:F3 (public): rank=1
[00:00:01.924,591] <dbg> devices_manager: enumerate_bonds_cb: Enumerated bonded device 1: CC:89:6C:EE:40:F3 (public) (SIRK: yes, Rank: 1)
[00:00:01.924,621] <inf> devices_manager: Enumerated 2 bonded devices
[00:00:01.924,621] <inf> devices_manager: Bonded devices collection updated. Total bonded devices: 2
[00:00:01.924,652] <inf> devices_manager: Devices manager initialized
[00:00:01.924,652] <inf> ble_manager: BLE manager and subsystems initialized
[00:00:01.924,682] <dbg> app_controller: app_controller_notify_system_ready: Notifying system ready
[00:00:01.925,415] <dbg> app_controller: app_controller_thread: App thread started
[00:00:01.925,445] <dbg> app_controller: app_controller_thread: SM_WAKE: Determining state
[00:00:01.925,445] <inf> app_controller: One or two bonded devices found, connecting and verifying set membership
[00:00:01.925,476] <dbg> app_controller: app_controller_thread: SM_BONDED_DEVICES: Managing bonded device(s)
[00:00:01.925,476] <inf> ble_manager: Establishing trusted bond with device [DEVICE ID 0]
[00:00:01.925,537] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from DISCONNECTED to TRUSTING
[00:00:01.925,537] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:01.925,567] <dbg> devices_manager: devices_manager_get_device_context_by_conn: No device with matching connection found
[00:00:01.925,567] <err> ble_manager: Cannot disconnect - device context not found
[00:00:01.925,598] <wrn> ble_manager: Failed to disconnect for bonding (err -22) [DEVICE ID 0]
[00:00:01.925,598] <dbg> ble_manager: ble_manager_establish_trusted_bond: Scheduling connection to establish bond [DEVICE ID 0]
[00:00:01.925,720] <dbg> ble_manager: ble_manager_connect_to_bonded_device: Found entry in bonded devices to connect to, addr=CC:89:6C:EE:41:04 (public) [DEVICE ID 0]
[00:00:01.925,811] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from DISCONNECTED to BONDED
[00:00:01.925,903] <dbg> ble_manager: ble_manager_connect_to_bonded_device: Set device context to connect to, addr=CC:89:6C:EE:41:04 (public) [DEVICE ID 0]
[00:00:01.925,964] <inf> ble_manager: [DEVICE ID 0] BLE command thread started
[00:00:01.925,994] <inf> ble_manager: [DEVICE ID 1] BLE command thread started
[00:00:02.176,086] <dbg> ble_manager: connect_work_handler: Connect work executing for CC:89:6C:EE:41:04 (public) [DEVICE ID 0]
[00:00:02.176,177] <dbg> ble_manager: ble_manager_connect: Connecting to CC:89:6C:EE:41:04 (public)
[00:00:02.398,406] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:02.398,406] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:02.398,529] <inf> ble_manager: Connected to bonded (or bonding) device CC:89:6C:EE:41:04 (public) [DEVICE ID 0]
[00:00:02.398,559] <dbg> ble_manager: ble_cmd_enqueue: High priority BLE command enqueued, type: BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
[00:00:02.399,261] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
[00:00:02.399,383] <dbg> ble_manager: security_request_handler: Requesting security [DEVICE ID 0]
[00:00:02.399,505] <dbg> ble_manager: security_request_handler: Security request initiated [DEVICE ID 0]
[00:00:02.399,597] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
[00:00:02.399,627] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
[00:00:03.049,621] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:03.049,652] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:03.049,682] <dbg> ble_manager: security_changed_cb: Security changed: CC:89:6C:EE:41:04 (public) level 2 [DEVICE ID 0]
[00:00:03.049,713] <dbg> ble_manager: security_changed_cb: Encryption established at level 2 [DEVICE ID 0]
[00:00:03.049,713] <dbg> ble_manager: security_changed_cb: Bonded device - encryption established [DEVICE ID 0]
[00:00:03.049,774] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from BONDED to READY
[00:00:03.049,865] <dbg> app_controller: app_controller_notify_device_ready: Notifying device ready: device_id=0
[00:00:03.049,926] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
[00:00:03.049,926] <dbg> ble_manager: ble_process_next_command: No BLE commands in queue [DEVICE ID 0]
[00:00:03.050,109] <wrn> bt_l2cap: Ignoring data for unknown channel ID 0x002a
[00:00:03.050,201] <inf> app_controller: [DEVICE ID 0] ready after trusted bond, discovering services
[00:00:03.050,231] <dbg> ble_manager: ble_cmd_enqueue: BLE command enqueued, type: BLE_CMD_BAS_DISCOVER [DEVICE ID 0]
[00:00:03.050,323] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_BAS_DISCOVER [DEVICE ID 0]
[00:00:03.050,354] <dbg> battery_reader: battery_discover: Starting Battery Service discovery [DEVICE ID 0]
[00:00:03.050,628] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=BLE_CMD_BAS_DISCOVER [DEVICE ID 0]
[00:00:03.050,659] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=BLE_CMD_BAS_DISCOVER [DEVICE ID 0]
[00:00:03.149,749] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:03.149,749] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:03.149,780] <dbg> battery_reader: discover_service_cb: Found Battery Service at handle 0x011E-0x0121 [DEVICE ID 0]
[00:00:03.149,780] <dbg> battery_reader: discover_service_cb: Discover characteristics within Battery Service [DEVICE ID 0]
[00:00:03.250,244] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:03.250,244] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:03.250,274] <dbg> battery_reader: discover_char_cb: [ATTRIBUTE] handle 0x011F [DEVICE ID 0]
[00:00:03.250,274] <dbg> battery_reader: discover_char_cb: Found Battery Level characteristic at handle 0x0120 (properties 0x12) [DEVICE ID 0]
[00:00:03.399,627] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:03.399,658] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:03.399,688] <dbg> battery_reader: discover_char_cb: Discovery complete for type 3 [DEVICE ID 0]
[00:00:03.399,688] <dbg> battery_reader: discover_char_cb: Battery Service discovery complete (handle: 0x0120, CCC: 0x0000) [DEVICE ID 0]
[00:00:03.399,688] <inf> app_controller: Notifying BAS discovered: device_id=0
[00:00:03.399,749] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_BAS_DISCOVER [DEVICE ID 0]
[00:00:03.399,780] <dbg> ble_manager: ble_process_next_command: No BLE commands in queue [DEVICE ID 0]
[00:00:03.399,902] <inf> app_controller: BAS discovered for device 0, reading level
[00:00:03.399,963] <dbg> ble_manager: ble_cmd_enqueue: BLE command enqueued, type: BLE_CMD_BAS_READ_LEVEL [DEVICE ID 0]
[00:00:03.400,024] <dbg> ble_manager: ble_cmd_enqueue: BLE command enqueued, type: BLE_CMD_VCP_DISCOVER [DEVICE ID 0]
[00:00:03.400,085] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_BAS_READ_LEVEL [DEVICE ID 0]
[00:00:03.400,115] <dbg> battery_reader: battery_read_level: Reading battery level from handle 0x0120 [DEVICE ID 0]
[00:00:03.400,390] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=BLE_CMD_BAS_READ_LEVEL [DEVICE ID 0]
[00:00:03.400,421] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=BLE_CMD_BAS_READ_LEVEL [DEVICE ID 0]
[00:00:03.550,201] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:03.550,231] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:03.550,231] <inf> battery_reader: Battery level read: 90% [DEVICE ID 0]
[00:00:03.550,292] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_BAS_READ_LEVEL [DEVICE ID 0]
[00:00:03.550,323] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_VCP_DISCOVER [DEVICE ID 0]
[00:00:03.550,354] <dbg> vcp_controller: vcp_controller_reset: VCP controller state reset [DEVICE ID 0]
[00:00:03.550,506] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=BLE_CMD_VCP_DISCOVER [DEVICE ID 0]
[00:00:03.550,537] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=BLE_CMD_VCP_DISCOVER [DEVICE ID 0]
[00:00:04.099,639] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:04.099,670] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:04.099,670] <inf> vcp_controller: VCP discovery complete [DEVICE ID 0]
[00:00:04.099,700] <inf> app_controller: Notifying VCP discovered: device_id=0
[00:00:04.099,731] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_VCP_DISCOVER [DEVICE ID 0]
[00:00:04.099,761] <dbg> ble_manager: ble_process_next_command: No BLE commands in queue [DEVICE ID 0]
[00:00:04.099,975] <inf> app_controller: VCP discovered for device 0
[00:00:04.100,006] <dbg> has_controller: has_controller_reset: HAS controller state reset [DEVICE ID 0]
[00:00:04.100,067] <dbg> ble_manager: ble_cmd_enqueue: BLE command enqueued, type: BLE_CMD_HAS_DISCOVER [DEVICE ID 0]
[00:00:04.100,158] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_HAS_DISCOVER [DEVICE ID 0]
[00:00:04.100,311] <dbg> has_settings: has_settings_load_handles: Loading HAS handles for CC:89:6C:EE:41:04 (public) at harc/device/CC:89:6C:EE:41:04 (public)
[00:00:04.101,318] <inf> has_settings: Loaded HAS handles for CC:89:6C:EE:41:04 (public)
[00:00:04.101,318] <inf> has_settings:   features: 253 (ccc: 254)
[00:00:04.101,318] <inf> has_settings:   control_point: 250 (ccc: 251)
[00:00:04.101,348] <inf> has_settings:   active_index: 256 (ccc: 257)
[00:00:04.101,348] <inf> has_controller: Found cached HAS handles, attempting to restore
[00:00:04.101,379] <dbg> has_controller: has_cmd_discover: Starting HAS discovery
[00:00:04.101,379] <inf> bt_has_client: Handles already set - skipping discovery
[00:00:04.101,409] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:04.101,409] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:04.101,409] <inf> has_controller: HAS discovery complete
[00:00:04.101,440] <inf> has_controller: Hearing aid type: 0
[00:00:04.101,440] <inf> has_controller: Hearing aid capabilities: 0x01
[00:00:04.101,654] <inf> has_settings: Stored HAS handles for CC:89:6C:EE:41:04 (public) at harc/device/CC:89:6C:EE:41:04 (public)/has_handles
[00:00:04.101,684] <inf> has_settings:   features: 253 (ccc: 254)
[00:00:04.101,684] <inf> has_settings:   control_point: 250 (ccc: 251)
[00:00:04.101,684] <inf> has_settings:   active_index: 256 (ccc: 257)
[00:00:04.101,715] <inf> has_controller: HAS handles cached to NVS
[00:00:04.101,715] <dbg> app_controller: app_controller_notify_has_discovered: Notifying HAS discovered: device_id=0
[00:00:04.101,776] <inf> app_controller: HAS discovered for device 0
[00:00:04.101,776] <dbg> app_controller: app_controller_thread: All bonded devices managed, entering idle state
[00:00:04.101,806] <dbg> app_controller: app_controller_thread: SM_IDLE: Buttons not ready, initializing buttons
[00:00:04.101,867] <dbg> button_manager: button_manager_init_buttons: Configured button 1 on port gpio@50000000 pin 13
[00:00:04.101,898] <dbg> button_manager: button_manager_init_buttons: Configured button 2 on port gpio@50000000 pin 14
[00:00:04.101,959] <dbg> button_manager: button_manager_init_buttons: Configured button 3 on port gpio@50000000 pin 15
[00:00:04.101,989] <dbg> button_manager: button_manager_init_buttons: Configured button 4 on port gpio@50000000 pin 16
[00:00:04.102,050] <dbg> button_manager: button_manager_init_buttons: Set button 1 interrupt to EDGE_TO_ACTIVE
[00:00:04.102,081] <dbg> button_manager: button_manager_init_buttons: Set button 2 interrupt to EDGE_TO_ACTIVE
[00:00:04.102,111] <dbg> button_manager: button_manager_init_buttons: Set button 3 interrupt to EDGE_TO_ACTIVE
[00:00:04.102,142] <dbg> button_manager: button_manager_init_buttons: Set button 4 interrupt to EDGE_TO_ACTIVE
[00:00:04.102,142] <dbg> button_manager: button_manager_init_buttons: Added callback for button 1
[00:00:04.102,172] <dbg> button_manager: button_manager_init_buttons: Added callback for button 2
[00:00:04.102,203] <dbg> button_manager: button_manager_init_buttons: Added callback for button 3
[00:00:04.102,203] <dbg> button_manager: button_manager_init_buttons: Added callback for button 4
[00:00:04.102,294] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_HAS_DISCOVER [DEVICE ID 0]
[00:00:04.102,325] <dbg> ble_manager: ble_process_next_command: No BLE commands in queue [DEVICE ID 0]
[00:00:04.102,355] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=UNKNOWN_COMMAND [DEVICE ID 8]
[00:00:04.102,386] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=UNKNOWN_COMMAND [DEVICE ID 0]
[00:00:14.102,294] <dbg> app_controller: app_controller_thread: SM_IDLE: No event received, entering deep sleep
[00:00:14.102,325] <err> power_manager: Preparing to power off the system...
[00:00:14.102,325] <wrn> display_manager: Cannot sleep display - not initialized
[00:00:14.102,355] <wrn> power_manager: Failed to sleep display (err -19) - continuing
[00:00:14.102,416] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:14.102,447] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:14.102,478] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from READY to DISCONNECTING
[00:00:14.102,508] <inf> ble_manager: Disconnecting connection [DEVICE ID 0]
[00:00:14.150,268] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:14.150,299] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:14.150,390] <inf> ble_manager: Disconnected from CC:89:6C:EE:41:04 (public) with (reason 0x16) [DEVICE ID 0]
[00:00:14.150,421] <dbg> vcp_controller: vcp_controller_reset: VCP controller state reset [DEVICE ID 0]
[00:00:14.150,421] <dbg> battery_reader: battery_reader_reset: Battery reader state reset [DEVICE ID 0]
[00:00:14.150,482] <dbg> has_controller: has_controller_reset: HAS controller state reset [DEVICE ID 0]
[00:00:14.150,512] <inf> ble_manager: Intentional disconnection completed [DEVICE ID 0]
[00:00:14.150,512] <dbg> app_controller: app_controller_notify_device_disconnected: Notifying device disconnected: device_id=0
[00:00:14.150,573] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from DISCONNECTING to DISCONNECTED
[00:00:00.998,077] <err> ssd1306: Failed to initialize device!
*** Booting Zephyr OS build v4.2.0-3327-g573f42339ebb ***
[00:00:01.837,646] <dbg> power_manager: print_reset_cause: Reset by external pin.
[00:00:01.844,299] <inf> fs_nvs: 6 Sectors of 4096 bytes
[00:00:01.844,299] <inf> fs_nvs: alloc wra: 0, f40
[00:00:01.844,329] <inf> fs_nvs: data wra: 0, [00:00:01.846,130] <inf> power_manager: Power manager initialized
[00:00:01.846,130] <err> display_manager: Display device not ready
[00:00:01.846,160] <wrn> main: Display manager init failed (err -19) - continuing without display
[00:00:01.846,160] <inf> vcp_controller: VCP controller initialized
[00:00:01.846,191] <inf> battery_reader: Battery reader initialized
[00:00:01.846,191] <inf> csip_coordinator: CSIP Coordinator initialized
[00:00:01.846,221] <inf> has_controller: HAS controller initialized
[00:00:01.847,747] <inf> bt_hci_core: HW Platform: Nordic Semiconductor (0x0002)
[00:00:01.847,778] <inf> bt_hci_core: HW Variant: nRF52x (0x0002)
[00:00:01.847,808] <inf> bt_hci_core: Firmware: Standard Bluetooth controller (0x00) Version 4.2 Build 99
[00:00:01.848,052] <inf> bt_hci_core: No ID address. App must call settings_load()
[00:00:01.848,052] <inf> ble_manager: Bluetooth initialized
[00:00:01.848,052] <dbg> ble_manager: bt_ready_cb: Loading BT settings from flash
[00:00:01.849,517] <inf> bt_hci_core: HCI transport: Controller
[00:00:01.849,639] <inf> bt_hci_core: Identity: D0:26:7A:4D:45:9E (random)
[00:00:01.849,670] <inf> bt_hci_core: HCI: version 5.4 (0x0d) revision 0x0000, manufacturer 0x05f1
[00:00:01.849,700] <inf> bt_hci_core: LMP: version 5.4 (0x0d) subver 0xffff
[00:00:01.849,731] <dbg> ble_manager: bt_ready_cb: Clearing filter accept list
[00:00:01.849,853] <dbg> ble_manager: ble_manager_init: Initializing security & connection works
[00:00:01.849,975] <inf> devices_manager: Updating bonded devices collection...
[00:00:01.851,074] <dbg> csip_coordinator: csip_settings_load_sirk: CSIP data not found for CC:89:6C:EE:41:04 (public) (SIRK: no, rank: no)
[00:00:01.851,196] <dbg> devices_manager: enumerate_bonds_cb: Enumerated bonded device 0: CC:89:6C:EE:41:04 (public) (SIRK: no, Rank: 0)
[00:00:01.852,386] <dbg> csip_coordinator: csip_settings_load_sirk: Loaded CSIP info for CC:89:6C:EE:40:F3 (public): rank=1
[00:00:01.852,508] <dbg> devices_manager: enumerate_bonds_cb: Enumerated bonded device 1: CC:89:6C:EE:40:F3 (public) (SIRK: yes, Rank: 1)
[00:00:01.852,539] <inf> devices_manager: Enumerated 2 bonded devices
[00:00:01.852,569] <inf> devices_manager: Bonded devices collection updated. Total bonded devices: 2
[00:00:01.852,569] <inf> devices_manager: Devices manager initialized
[00:00:01.852,600] <inf> ble_manager: BLE manager and subsystems initialized
[00:00:01.852,600] <dbg> app_controller: app_controller_notify_system_ready: Notifying system ready
[00:00:01.853,363] <dbg> app_controller: app_controller_thread: App thread started
[00:00:01.853,363] <dbg> app_controller: app_controller_thread: SM_WAKE: Determining state
[00:00:01.853,393] <inf> app_controller: One or two bonded devices found, connecting and verifying set membership
[00:00:01.853,393] <dbg> app_controller: app_controller_thread: SM_BONDED_DEVICES: Managing bonded device(s)
[00:00:01.853,424] <inf> ble_manager: Establishing trusted bond with device [DEVICE ID 0]
[00:00:01.853,454] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from DISCONNECTED to TRUSTING
[00:00:01.853,485] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:01.853,485] <dbg> devices_manager: devices_manager_get_device_context_by_conn: No device with matching connection found
[00:00:01.853,515] <err> ble_manager: Cannot disconnect - device context not found
[00:00:01.853,515] <wrn> ble_manager: Failed to disconnect for bonding (err -22) [DEVICE ID 0]
[00:00:01.853,546] <dbg> ble_manager: ble_manager_establish_trusted_bond: Scheduling connection to establish bond [DEVICE ID 0]
[00:00:01.853,637] <dbg> ble_manager: ble_manager_connect_to_bonded_device: Found entry in bonded devices to connect to, addr=CC:89:6C:EE:41:04 (public) [DEVICE ID 0]
[00:00:01.853,729] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from DISCONNECTED to BONDED
[00:00:01.853,851] <dbg> ble_manager: ble_manager_connect_to_bonded_device: Set device context to connect to, addr=CC:89:6C:EE:41:04 (public) [DEVICE ID 0]
[00:00:01.853,881] <inf> ble_manager: [DEVICE ID 0] BLE command thread started
[00:00:01.853,912] <inf> ble_manager: [DEVICE ID 1] BLE command thread started
[00:00:02.104,034] <dbg> ble_manager: connect_work_handler: Connect work executing for CC:89:6C:EE:41:04 (public) [DEVICE ID 0]
[00:00:02.104,125] <dbg> ble_manager: ble_manager_connect: Connecting to CC:89:6C:EE:41:04 (public)
[00:00:02.569,885] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:02.569,915] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:02.570,007] <inf> ble_manager: Connected to bonded (or bonding) device CC:89:6C:EE:41:04 (public) [DEVICE ID 0]
[00:00:02.570,068] <dbg> ble_manager: ble_cmd_enqueue: High priority BLE command enqueued, type: BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
[00:00:02.570,739] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
ASSERTION FAIL [0] @ WEST_TOPDIR/zephyr/subsys/bluetooth/controller/ll_sw/nordic/lll/lll_central.c:256
        prepare_cb: Actual EVENT_OVERHEAD_START_US = 6815063
[00:00:02.435,119] <err> os: r0/a1:  0x00000003  r1/a2:  0x00000037  r2/a3:  0x00000036
[00:00:02.435,119] <err> os: r3/a4:  0x00000003 r12/ip:  0x00000004 r14/lr:  0x00003867
[00:00:02.435,150] <err> os:  xpsr:  0x21000028
[00:00:02.435,150] <err> os: Faulting instruction address (r15/pc): 0x00003874
[00:00:02.435,180] <err> os: >>> ZEPHYR FATAL ERROR 3: Kernel oops on CPU 0
[00:00:02.435,180] <err> os: Fault during interrupt handling

[00:00:02.435,241] <err> os: Current thread: 0x20000a70 (ble_cmd_thread_0_id)
[00:00:02.991,180] <err> os: Halting system
[00:00:00.759,948] <err> [00:00:00.759,948] <err>[00:00:00.759,887] <err> ssd1306: Failed to initialize device!
*** Booting Zephyr OS build v4.2.0-3327-g573f42339ebb ***
[00:00:00.759,979] <dbg> power_manager: print_reset_cause: Reset by external pin.
[00:00:00.765,808] <inf> fs_nvs: 6 Sectors of 4096 bytes
[00:00:00.765,838] <inf> fs_nvs: alloc wra: 0, f40
[00:00:00.765,838] <inf> fs_nvs: data wra: 0, 1b8
[00:00:00.767,517] <inf> power_manager: Power manager initialized
[00:00:00.767,517] <err> display_manager: Display device not ready
[00:00:00.767,517] <wrn> main: Display manager init failed (err -19) - continuing without display
[00:00:00.767,517] <inf> vcp_controller: VCP controller initialized
[00:00:00.767,547] <inf> battery_reader: Battery reader initialized
[00:00:00.767,578] <inf> csip_coordinator: CSIP Coordinator initialized
[00:00:00.767,578] <inf> has_controller: HAS controller initialized
[00:00:00.768,920] <inf> bt_hci_core: HW Platform: Nordic Semiconductor (0x0002)
[00:00:00.768,951] <inf> bt_hci_core: HW Variant: nRF52x (0x0002)
[00:00:00.768,981] <inf> bt_hci_core: Firmware: Standard Bluetooth controller (0x00) Version 4.2 Build 99
[00:00:00.769,195] <inf> bt_hci_core: No ID address. App must call settings_load()
[00:00:00.769,226] <inf> ble_manager: Bluetooth initialized
[00:00:00.769,226] <dbg> ble_manager: bt_ready_cb: Loading BT settings from flash
[00:00:00.770,568] <inf> bt_hci_core: HCI transport: Controller
[00:00:00.770,660] <inf> bt_hci_core: Identity: D0:26:7A:4D:45:9E (random)
[00:00:00.770,690] <inf> bt_hci_core: HCI: version 5.4 (0x0d) revision 0x0000, manufacturer 0x05f1
[00:00:00.770,721] <inf> bt_hci_core: LMP: version 5.4 (0x0d) subver 0xffff
[00:00:00.770,751] <dbg> ble_manager: bt_ready_cb: Clearing filter accept list
[00:00:00.770,843] <dbg> ble_manager: ble_manager_init: Initializing security & connection works
[00:00:00.771,026] <inf> devices_manager: Updating bonded devices collection...
[00:00:00.772,033] <dbg> csip_coordinator: csip_settings_load_sirk: CSIP data not found for CC:89:6C:EE:41:04 (public) (SIRK: no, rank: no)
[00:00:00.772,155] <dbg> devices_manager: enumerate_bonds_cb: Enumerated bonded device 0: CC:89:6C:EE:41:04 (public) (SIRK: no, Rank: 0)
[00:00:00.773,254] <dbg> csip_coordinator: csip_settings_load_sirk: Loaded CSIP info for CC:89:6C:EE:40:F3 (public): rank=1
[00:00:00.773,376] <dbg> devices_manager: enumerate_bonds_cb: Enumerated bonded device 1: CC:89:6C:EE:40:F3 (public) (SIRK: yes, Rank: 1)
[00:00:00.773,406] <inf> devices_manager: Enumerated 2 bonded devices
[00:00:00.773,406] <inf> devices_manager: Bonded devices collection updated. Total bonded devices: 2
[00:00:00.773,437] <inf> devices_manager: Devices manager initialized
[00:00:00.773,437] <inf> ble_manager: BLE manager and subsystems initialized
[00:00:00.773,468] <dbg> app_controller: app_controller_notify_system_ready: Notifying system ready
[00:00:00.774,139] <dbg> app_controller: app_controller_thread: App thread started
[00:00:00.774,139] <dbg> app_controller: app_controller_thread: SM_WAKE: Determining state
[00:00:00.774,169] <inf> app_controller: One or two bonded devices found, connecting and verifying set membership
[00:00:00.774,169] <dbg> app_controller: app_controller_thread: SM_BONDED_DEVICES: Managing bonded device(s)
[00:00:00.774,169] <inf> ble_manager: Establishing trusted bond with device [DEVICE ID 0]
[00:00:00.774,230] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from DISCONNECTED to TRUSTING
[00:00:00.774,261] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:00.774,261] <dbg> devices_manager: devices_manager_get_device_context_by_conn: No device with matching connection found
[00:00:00.774,291] <err> ble_manager: Cannot disconnect - device context not found
[00:00:00.774,291] <wrn> ble_manager: Failed to disconnect for bonding (err -22) [DEVICE ID 0]
[00:00:00.774,291] <dbg> ble_manager: ble_manager_establish_trusted_bond: Scheduling connection to establish bond [DEVICE ID 0]
[00:00:00.774,414] <dbg> ble_manager: ble_manager_connect_to_bonded_device: Found entry in bonded devices to connect to, addr=CC:89:6C:EE:41:04 (public) [DEVICE ID 0]
[00:00:00.774,536] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from DISCONNECTED to BONDED
[00:00:00.774,627] <dbg> ble_manager: ble_manager_connect_to_bonded_device: Set device context to connect to, addr=CC:89:6C:EE:41:04 (public) [DEVICE ID 0]
[00:00:00.774,688] <inf> ble_manager: [DEVICE ID 0] BLE command thread started
[00:00:00.774,688] <inf> ble_manager: [DEVICE ID 1] BLE command thread started
[00:00:01.024,780] <dbg> ble_manager: connect_work_handler: Connect work executing for CC:89:6C:EE:41:04 (public) [DEVICE ID 0]
[00:00:01.024,871] <dbg> ble_manager: ble_manager_connect: Connecting to CC:89:6C:EE:41:04 (public)
[00:00:01.031,677] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:01.031,677] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:01.031,799] <inf> ble_manager: Connected to bonded (or bonding) device CC:89:6C:EE:41:04 (public) [DEVICE ID 0]
[00:00:01.031,921] <dbg> ble_manager: ble_cmd_enqueue: High priority BLE command enqueued, type: BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
[00:00:01.032,501] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
[00:00:01.032,562] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
[00:00:01.032,592] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
[00:00:01.032,653] <dbg> ble_manager: security_request_handler: Requesting security [DEVICE ID 0]
[00:00:01.032,745] <dbg> ble_manager: security_request_handler: Security request initiated [DEVICE ID 0]
[00:00:01.882,080] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:01.882,080] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:01.882,141] <dbg> ble_manager: security_changed_cb: Security changed: CC:89:6C:EE:41:04 (public) level 2 [DEVICE ID 0]
[00:00:01.882,141] <dbg> ble_manager: security_changed_cb: Encryption established at level 2 [DEVICE ID 0]
[00:00:01.882,171] <dbg> ble_manager: security_changed_cb: Bonded device - encryption established [DEVICE ID 0]
[00:00:01.882,232] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from BONDED to READY
[00:00:01.882,232] <dbg> app_controller: app_controller_notify_device_ready: Notifying device ready: device_id=0
[00:00:01.882,354] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_REQUEST_SECURITY [DEVICE ID 0]
[00:00:01.882,385] <dbg> ble_manager: ble_process_next_command: No BLE commands in queue [DEVICE ID 0]
[00:00:01.882,537] <wrn> bt_l2cap: Ignoring data for unknown channel ID 0x002a
[00:00:01.882,629] <inf> app_controller: [DEVICE ID 0] ready after trusted bond, discovering services
[00:00:01.882,720] <dbg> ble_manager: ble_cmd_enqueue: BLE command enqueued, type: BLE_CMD_BAS_DISCOVER [DEVICE ID 0]
[00:00:01.882,781] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_BAS_DISCOVER [DEVICE ID 0]
[00:00:01.882,812] <dbg> battery_reader: battery_discover: Starting Battery Service discovery [DEVICE ID 0]
[00:00:01.883,056] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=BLE_CMD_BAS_DISCOVER [DEVICE ID 0]
[00:00:01.883,087] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=BLE_CMD_BAS_DISCOVER [DEVICE ID 0]
[00:00:01.982,147] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:01.982,177] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:01.982,177] <dbg> battery_reader: discover_service_cb: Found Battery Service at handle 0x011E-0x0121 [DEVICE ID 0]
[00:00:01.982,208] <dbg> battery_reader: discover_service_cb: Discover characteristics within Battery Service [DEVICE ID 0]
[00:00:02.082,183] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:02.082,214] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:02.082,214] <dbg> battery_reader: discover_char_cb: [ATTRIBUTE] handle 0x011F [DEVICE ID 0]
[00:00:02.082,244] <dbg> battery_reader: discover_char_cb: Found Battery Level characteristic at handle 0x0120 (properties 0x12) [DEVICE ID 0]
[00:00:02.182,159] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:02.182,189] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:02.182,220] <dbg> battery_reader: discover_char_cb: Discovery complete for type 3 [DEVICE ID 0]
[00:00:02.182,220] <dbg> battery_reader: discover_char_cb: Battery Service discovery complete (handle: 0x0120, CCC: 0x0000) [DEVICE ID 0]
[00:00:02.182,220] <inf> app_controller: Notifying BAS discovered: device_id=0
[00:00:02.182,281] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_BAS_DISCOVER [DEVICE ID 0]
[00:00:02.182,312] <dbg> ble_manager: ble_process_next_command: No BLE commands in queue [DEVICE ID 0]
[00:00:02.182,373] <inf> app_controller: BAS discovered for device 0, reading level
[00:00:02.182,647] <dbg> ble_manager: ble_cmd_enqueue: BLE command enqueued, type: BLE_CMD_BAS_READ_LEVEL [DEVICE ID 0]
[00:00:02.182,708] <dbg> ble_manager: ble_cmd_enqueue: BLE command enqueued, type: BLE_CMD_VCP_DISCOVER [DEVICE ID 0]
[00:00:02.182,800] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_BAS_READ_LEVEL [DEVICE ID 0]
[00:00:02.182,800] <dbg> battery_reader: battery_read_level: Reading battery level from handle 0x0120 [DEVICE ID 0]
[00:00:02.183,044] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=BLE_CMD_BAS_READ_LEVEL [DEVICE ID 0]
[00:00:02.183,105] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=BLE_CMD_BAS_READ_LEVEL [DEVICE ID 0]
[00:00:02.332,031] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:02.332,061] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:02.332,061] <inf> battery_reader: Battery level read: 90% [DEVICE ID 0]
[00:00:02.332,122] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_BAS_READ_LEVEL [DEVICE ID 0]
[00:00:02.332,153] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_VCP_DISCOVER [DEVICE ID 0]
[00:00:02.332,183] <dbg> vcp_controller: vcp_controller_reset: VCP controller state reset [DEVICE ID 0]
[00:00:02.332,275] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=BLE_CMD_VCP_DISCOVER [DEVICE ID 0]
[00:00:02.332,305] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=BLE_CMD_VCP_DISCOVER [DEVICE ID 0]
[00:00:02.832,122] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:02.832,153] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:02.832,153] <inf> vcp_controller: VCP discovery complete [DEVICE ID 0]
[00:00:02.832,153] <inf> app_controller: Notifying VCP discovered: device_id=0
[00:00:02.832,214] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_VCP_DISCOVER [DEVICE ID 0]
[00:00:02.832,244] <dbg> ble_manager: ble_process_next_command: No BLE commands in queue [DEVICE ID 0]
[00:00:02.832,397] <inf> app_controller: VCP discovered for device 0
[00:00:02.832,458] <dbg> has_controller: has_controller_reset: HAS controller state reset [DEVICE ID 0]
[00:00:02.832,519] <dbg> ble_manager: ble_cmd_enqueue: BLE command enqueued, type: BLE_CMD_HAS_DISCOVER [DEVICE ID 0]
[00:00:02.832,611] <dbg> ble_manager: ble_cmd_execute: Executing BLE command type BLE_CMD_HAS_DISCOVER [DEVICE ID 0]
[00:00:02.832,763] <dbg> has_settings: has_settings_load_handles: Loading HAS handles for CC:89:6C:EE:41:04 (public) at harc/device/CC:89:6C:EE:41:04 (public)
[00:00:02.833,648] <inf> has_settings: Loaded HAS handles for CC:89:6C:EE:41:04 (public)
[00:00:02.833,679] <inf> has_settings:   features: 253 (ccc: 254)
[00:00:02.833,679] <inf> has_settings:   control_point: 250 (ccc: 251)
[00:00:02.833,679] <inf> has_settings:   active_index: 256 (ccc: 257)
[00:00:02.833,709] <inf> has_controller: Found cached HAS handles, attempting to restore
[00:00:02.833,709] <dbg> has_controller: has_cmd_discover: Starting HAS discovery
[00:00:02.833,740] <inf> bt_has_client: Handles already set - skipping discovery
[00:00:02.833,740] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:02.833,770] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:02.833,770] <inf> has_controller: HAS discovery complete
[00:00:02.833,770] <inf> has_controller: Hearing aid type: 0
[00:00:02.833,770] <inf> has_controller: Hearing aid capabilities: 0x01
[00:00:02.833,984] <inf> has_settings: Stored HAS handles for CC:89:6C:EE:41:04 (public) at harc/device/CC:89:6C:EE:41:04 (public)/has_handles
[00:00:02.834,014] <inf> has_settings:   features: 253 (ccc: 254)
[00:00:02.834,014] <inf> has_settings:   control_point: 250 (ccc: 251)
[00:00:02.834,014] <inf> has_settings:   active_index: 256 (ccc: 257)
[00:00:02.834,045] <inf> has_controller: HAS handles cached to NVS
[00:00:02.834,045] <dbg> app_controller: app_controller_notify_has_discovered: Notifying HAS discovered: device_id=0
[00:00:02.834,106] <inf> app_controller: HAS discovered for device 0
[00:00:02.834,106] <dbg> app_controller: app_controller_thread: All bonded devices managed, entering idle state
[00:00:02.834,136] <dbg> app_controller: app_controller_thread: SM_IDLE: Buttons not ready, initializing buttons
[00:00:02.834,167] <dbg> button_manager: button_manager_init_buttons: Configured button 1 on port gpio@50000000 pin 13
[00:00:02.834,228] <dbg> button_manager: button_manager_init_buttons: Configured button 2 on port gpio@50000000 pin 14
[00:00:02.834,259] <dbg> button_manager: button_manager_init_buttons: Configured button 3 on port gpio@50000000 pin 15
[00:00:02.834,320] <dbg> button_manager: button_manager_init_buttons: Configured button 4 on port gpio@50000000 pin 16
[00:00:02.834,350] <dbg> button_manager: button_manager_init_buttons: Set button 1 interrupt to EDGE_TO_ACTIVE
[00:00:02.834,350] <dbg> button_manager: button_manager_init_buttons: Set button 2 interrupt to EDGE_TO_ACTIVE
[00:00:02.834,381] <dbg> button_manager: button_manager_init_buttons: Set button 3 interrupt to EDGE_TO_ACTIVE
[00:00:02.834,411] <dbg> button_manager: button_manager_init_buttons: Set button 4 interrupt to EDGE_TO_ACTIVE
[00:00:02.834,411] <dbg> button_manager: button_manager_init_buttons: Added callback for button 1
[00:00:02.834,442] <dbg> button_manager: button_manager_init_buttons: Added callback for button 2
[00:00:02.834,442] <dbg> button_manager: button_manager_init_buttons: Added callback for button 3
[00:00:02.834,472] <dbg> button_manager: button_manager_init_buttons: Added callback for button 4
[00:00:02.834,564] <dbg> ble_manager: ble_cmd_complete: BLE command completed successfully: type=BLE_CMD_HAS_DISCOVER [DEVICE ID 0]
[00:00:02.834,594] <dbg> ble_manager: ble_process_next_command: No BLE commands in queue [DEVICE ID 0]
[00:00:02.834,625] <dbg> ble_manager: ble_cmd_execute: BLE command initiated successfully: type=UNKNOWN_COMMAND [DEVICE ID 72]
[00:00:02.834,655] <dbg> ble_manager: ble_process_next_command: Command waiting for completion: type=UNKNOWN_COMMAND [DEVICE ID 0]
[00:00:12.834,564] <dbg> app_controller: app_controller_thread: SM_IDLE: No event received, entering deep sleep
[00:00:12.834,594] <err> power_manager: Preparing to power off the system...
[00:00:12.834,594] <wrn> display_manager: Cannot sleep display - not initialized
[00:00:12.834,594] <wrn> power_manager: Failed to sleep display (err -19) - continuing
[00:00:12.834,655] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:12.834,686] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:12.834,747] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from READY to DISCONNECTING
[00:00:12.834,747] <inf> ble_manager: Disconnecting connection [DEVICE ID 0]
[00:00:13.032,714] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Getting device context by connection
[00:00:13.032,745] <dbg> devices_manager: devices_manager_get_device_context_by_conn: Found matching device context for device ID 0
[00:00:13.032,836] <inf> ble_manager: Disconnected from CC:89:6C:EE:41:04 (public) with (reason 0x16) [DEVICE ID 0]
[00:00:13.032,836] <dbg> vcp_controller: vcp_controller_reset: VCP controller state reset [DEVICE ID 0]
[00:00:13.032,867] <dbg> battery_reader: battery_reader_reset: Battery reader state reset [DEVICE ID 0]
[00:00:13.032,928] <dbg> has_controller: has_controller_reset: HAS controller state reset [DEVICE ID 0]
[00:00:13.032,928] <inf> ble_manager: Intentional disconnection completed [DEVICE ID 0]
[00:00:13.032,958] <dbg> app_controller: app_controller_notify_device_disconnected: Notifying device disconnected: device_id=0
[00:00:13.033,020] <dbg> devices_manager: devices_manager_set_device_state: Device ID 0 state changed from DISCONNECTING to DISCONNECTED
[00:00:17.834,747] <err> os: ***** USAGE FAULT *****
[00:00:17.834,777] <err> os:   Illegal use of the EPSR
[00:00:17.834,777] <err> os: r0/a1:  0x20001838  r1/a2:  0xe000ed00  r2/a3:  0x20001838
[00:00:17.834,808] <err> os: r3/a4:  0x0003e240 r12/ip:  0x00000003 r14/lr:  0x0003133b
[00:00:17.834,808] <err> os:  xpsr:  0x60000000
[00:00:17.834,808] <err> os: Faulting instruction address (r15/pc): 0x0003e240
[00:00:17.834,869] <err> os: >>> ZEPHYR FATAL ERROR 35: Unknown error on CPU 0
[00:00:17.834,899] <err> os: Current thread: 0x20003a18 (unknown)
[00:00:17.890,960] <err> os: Halting system